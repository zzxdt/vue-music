import{Q as k,G as C,r as L,o as E,Z as $,J as w,j as i,k as n,l as o,y as V,v as y,m as N,z as S,q as T,F as d,C as _,s as m,D as p,U as b,V as B}from"./index-nvWmsnf9.js";import{E as O}from"./el-infinite-scroll-ZIv0e9pO.js";import{E as A}from"./el-affix-5wtVcazh.js";import{_ as D}from"./Loading-KSf3ufRB.js";import{_ as x}from"./MvList-m_0rPA1e.js";import"./throttle-IPVAgrZU.js";import"./el-skeleton-item-kIwtNASk.js";const z={name:"Mvlist",setup(){const{proxy:s}=C(),e=L({area:s.$COMMON.MV_AREA,type:s.$COMMON.MV_TYPE,order:["上升最快","最新"],areaIndex:0,typeIndex:0,orderIndex:0,params:{area:"",type:"",order:"",limit:30,offset:0},list:[],mv_count:20,mv_loading:!0,isLoading:!0,isLoadMv:!0}),v=async c=>{const{data:a}=await s.$http.mv(c);if(a.code!==200)return s.$msg.error("数据请求失败");e.list=e.params.offset!==0?[...e.list,...a.data]:a.data,e.isLoadMv=!a.hasMore,e.isLoading=a.hasMore,e.mv_loading=!1},r=(c,a)=>{e[c+"Index"]=a,e.list=[],e.params.offset=0,e.params[c]=e[c][a],e.mv_loading=!0},u=()=>{e.isLoadMv=!0,e.params.offset=e.list.length};return E(()=>{e.params.area=e.area[e.areaIndex],e.params.type=e.type[e.typeIndex],e.params.order=e.order[e.orderIndex]}),$(()=>{v(e.params)}),{...w(e),selectType:r,loadMv:u}}},f=s=>(b("data-v-8bf245f8"),s=s(),B(),s),F={class:"mv"},R={class:"mv-container"},j={class:"mv-main"},q={class:"wrapper infinite-list","infinite-scroll-disabled":"isLoadMv","infinite-scroll-distance":"50"},G={class:"aside-box"},J={class:"aside-menu"},P=f(()=>o("h3",{class:"aside-title"},"排序",-1)),Q={class:"filter-main"},U=["onClick"],Y=f(()=>o("h3",{class:"aside-title"},"区域",-1)),Z={class:"filter-main"},H=["onClick"],K=f(()=>o("h3",{class:"aside-title"},"类型",-1)),W={class:"filter-main"},X=["onClick"];function ee(s,e,v,r,u,c){const a=x,g=D,I=A,M=O;return i(),n("div",F,[o("div",R,[o("div",j,[V((i(),n("div",q,[y(a,{mvList:s.list,loading:s.mv_loading,num:s.mv_count},null,8,["mvList","loading","num"]),s.isLoading?(i(),N(g,{key:0})):S("",!0)])),[[M,r.loadMv]])]),o("div",G,[y(I,{offset:140},{default:T(()=>[o("div",J,[P,o("div",Q,[(i(!0),n(d,null,_(s.order,(l,t)=>(i(),n("em",{class:m(t===s.orderIndex?"active":""),key:t,onClick:h=>r.selectType("order",t)},p(l),11,U))),128))]),Y,o("div",Z,[(i(!0),n(d,null,_(s.area,(l,t)=>(i(),n("em",{class:m(t===s.areaIndex?"active":""),key:t,onClick:h=>r.selectType("area",t)},p(l),11,H))),128))]),K,o("div",W,[(i(!0),n(d,null,_(s.type,(l,t)=>(i(),n("em",{class:m(t===s.typeIndex?"active":""),key:t,onClick:h=>r.selectType("type",t)},p(l),11,X))),128))])])]),_:1})])])])}const ce=k(z,[["render",ee],["__scopeId","data-v-8bf245f8"]]);export{ce as default};
